[
  {
    "comment": "event_trigger_login - Statement 1",
    "query": "CREATE TABLE user_logins(id serial, who text)"
  },
  {
    "comment": "event_trigger_login - Statement 2",
    "query": "GRANT SELECT ON user_logins TO public"
  },
  {
    "comment": "event_trigger_login - Statement 3",
    "query": "CREATE FUNCTION on_login_proc() RETURNS event_trigger AS $$ BEGIN INSERT INTO user_logins (who) VALUES (SESSION_USER)"
  },
  {
    "comment": "event_trigger_login - Statement 4",
    "query": "RAISE NOTICE 'You are welcome!'"
  },
  {
    "comment": "event_trigger_login - Statement 5",
    "query": "END"
  },
  {
    "comment": "event_trigger_login - Statement 6",
    "query": "$$ LANGUAGE plpgsql"
  },
  {
    "comment": "event_trigger_login - Statement 7",
    "query": "CREATE EVENT TRIGGER on_login_trigger ON login EXECUTE PROCEDURE on_login_proc()"
  },
  {
    "comment": "event_trigger_login - Statement 8",
    "query": "ALTER EVENT TRIGGER on_login_trigger ENABLE ALWAYS"
  },
  {
    "comment": "event_trigger_login - Statement 9",
    "query": "SELECT dathasloginevt FROM pg_database WHERE datname= :'DBNAME'"
  },
  {
    "comment": "event_trigger_login - Statement 10",
    "query": "DROP TABLE user_logins"
  },
  {
    "comment": "event_trigger_login - Statement 11",
    "query": "DROP EVENT TRIGGER on_login_trigger"
  },
  {
    "comment": "event_trigger_login - Statement 12",
    "query": "DROP FUNCTION on_login_proc()"
  }
]