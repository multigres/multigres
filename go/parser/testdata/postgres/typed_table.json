[
  {
    "comment": "typed_table - Statement 1",
    "query": "CREATE TABLE ttable1 OF nothing"
  },
  {
    "comment": "typed_table - Statement 2",
    "query": "CREATE TYPE person_type AS (id int, name text)",
    "expected": "CREATE TYPE person_type AS (id INT, name TEXT)"
  },
  {
    "comment": "typed_table - Statement 3",
    "query": "CREATE TABLE persons OF person_type"
  },
  {
    "comment": "typed_table - Statement 4",
    "query": "CREATE TABLE IF NOT EXISTS persons OF person_type"
  },
  {
    "comment": "typed_table - Statement 5",
    "query": "SELECT * FROM persons"
  },
  {
    "comment": "typed_table - Statement 6",
    "query": "SELECT * FROM get_all_persons()"
  },
  {
    "comment": "typed_table - Statement 7",
    "query": "ALTER TABLE persons ADD COLUMN comment text",
    "expected": "ALTER TABLE persons ADD COLUMN comment TEXT"
  },
  {
    "comment": "typed_table - Statement 8",
    "query": "ALTER TABLE persons DROP COLUMN name"
  },
  {
    "comment": "typed_table - Statement 9",
    "query": "ALTER TABLE persons RENAME COLUMN id TO num"
  },
  {
    "comment": "typed_table - Statement 10",
    "query": "ALTER TABLE persons ALTER COLUMN name TYPE varchar",
    "expected": "ALTER TABLE persons ALTER COLUMN name TYPE VARCHAR"
  },
  {
    "comment": "typed_table - Statement 11",
    "query": "CREATE TABLE stuff (id int)",
    "expected": "CREATE TABLE stuff (id INT)"
  },
  {
    "comment": "typed_table - Statement 12",
    "query": "ALTER TABLE persons INHERIT stuff"
  },
  {
    "comment": "typed_table - Statement 13",
    "query": "CREATE TABLE personsx OF person_type (myname WITH OPTIONS NOT NULL)",
    "expected": "CREATE TABLE personsx OF person_type"
  },
  {
    "comment": "typed_table - Statement 14",
    "query": "CREATE TABLE persons2 OF person_type ( id WITH OPTIONS PRIMARY KEY, UNIQUE (name) )",
    "expected": "CREATE TABLE persons2 OF person_type"
  },
  {
    "comment": "typed_table - Statement 15",
    "query": "DROP TYPE person_type RESTRICT",
    "expected": "DROP TYPE person_type"
  },
  {
    "comment": "typed_table - Statement 16",
    "query": "DROP TYPE person_type CASCADE"
  },
  {
    "comment": "typed_table - Statement 17",
    "query": "CREATE TABLE persons5 OF stuff"
  },
  {
    "comment": "typed_table - Statement 18",
    "query": "DROP TABLE stuff"
  },
  {
    "comment": "typed_table - Statement 19",
    "query": "INSERT INTO persons VALUES (1, 'test')"
  },
  {
    "comment": "typed_table - Statement 20",
    "query": "CREATE FUNCTION namelen(person_type) RETURNS int LANGUAGE SQL AS $$ SELECT length($1.name) $$",
    "expected": "CREATE FUNCTION namelen (person_type) RETURNS INT LANGUAGE sql AS $$ SELECT length($1.name) $$"
  },
  {
    "comment": "typed_table - Statement 21",
    "query": "SELECT id, namelen(persons) FROM persons"
  }
]
