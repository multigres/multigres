---
image:
  repository: "teaglebuilt/multigres"
  tag: "test"
  pullPolicy: Always
  pullSecrets: []

config:
  enabled: true
  file: |-
    logging:
      level: info
    topology:
      clusters: []

postgres:
  host: "postgres.default.svc.cluster.local"
  port: 5432
  database: "appdb"
  user: "appuser"
  passwordSecretName: "multigres-postgres-credentials"
  passwordSecretKey: "password"
  password: ""

gateway:
  enabled: true
  replicas: 1
  command: [ "/multigres/bin/multigateway" ]
  args:
  - "--topo-global-root"
  - "/multigres/global"
  - "--topo-global-server-addresses"
  extraEnv: []
  resources: {}

  livenessProbe:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

  service:
    type: ClusterIP
    port: 5432
    annotations: {}
    labels: {}

pooler:
  enabled: true
  replicas: 1
  command: [ "/multigres/bin/multipooler" ]
  args:
  - "--topo-global-root"
  - "/multigres/global"
  extraEnv: []
  resources: {}

  livenessProbe:
    enabled: true
    initialDelaySeconds: 10
    periodSeconds: 10
    timeoutSeconds: 5
    failureThreshold: 3

  readinessProbe:
    enabled: true
    initialDelaySeconds: 5
    periodSeconds: 5
    timeoutSeconds: 3
    failureThreshold: 3

  service:
    type: ClusterIP
    port: 6432
    annotations: {}
    labels: {}

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

podAnnotations: {}
podLabels: {}
nodeSelector: {}
tolerations: []
affinity: {}

resources:
  requests:
    cpu: "100m"
    memory: "256Mi"
  limits:
    cpu: "1"
    memory: "1Gi"

pdb:
  enabled: true
  minAvailable: 1

autoscaling:
  enabled: false
  gateway:
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
  pooler:
    minReplicas: 2
    maxReplicas: 10
    targetCPUUtilizationPercentage: 80
