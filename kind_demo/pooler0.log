{"time":"2026-01-08T16:11:02.792584074Z","level":"INFO","msg":"logging initialized","level":"info","format":"json","output":"stdout"}
{"time":"2026-01-08T16:11:02.793429611Z","level":"INFO","msg":"Using fully qualified hostname for service URL","hostname":"multipooler-zone1-0.multipooler-zone1.default.svc.cluster.local"}
{"time":"2026-01-08T16:11:02.795239602Z","level":"INFO","msg":"multipooler starting up","pgctld_addr":"localhost:16200","cell":"zone1","database":"postgres","table_group":"default","shard":"0-inf","socket_file_path":"/data/pg_sockets/.s.PGSQL.5432","pooler_dir":"/data","pg_port":5432,"http_port":16000,"grpc_port":16100}
{"time":"2026-01-08T16:11:02.795298185Z","level":"INFO","msg":"Initializing MultiPoolerManager"}
{"time":"2026-01-08T16:11:02.795307394Z","level":"INFO","msg":"Registering consensus for grpc, disable it with -grpc-consensus service_map parameter"}
{"time":"2026-01-08T16:11:02.795531392Z","level":"INFO","msg":"Created pgctld gRPC client","addr":"localhost:16200"}
{"time":"2026-01-08T16:11:02.795627225Z","level":"INFO","msg":"MultiPoolerManager: opening"}
{"time":"2026-01-08T16:11:02.796201472Z","level":"INFO","msg":"connection pool manager opened","admin_user":"postgres","admin_capacity":5,"user_regular_capacity":10,"user_reserved_capacity":5,"max_users":0,"settings_cache_size":1024}
{"time":"2026-01-08T16:11:02.797005635Z","level":"INFO","msg":"Connection pool manager opened"}
{"time":"2026-01-08T16:11:02.79705926Z","level":"INFO","msg":"MultiPoolerManager: Starting database heartbeat"}
{"time":"2026-01-08T16:11:02.797314592Z","level":"INFO","msg":"user pool created","user":"postgres","regular_capacity":10,"reserved_capacity":5}
{"time":"2026-01-08T16:11:02.797383633Z","level":"INFO","msg":"created user pool","user":"postgres","total_users":1}
{"time":"2026-01-08T16:11:02.797924922Z","level":"ERROR","msg":"Failed to start heartbeat","error":"failed to check if database is primary: failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory"}
{"time":"2026-01-08T16:11:02.798488044Z","level":"INFO","msg":"MultiPoolerManager opened database connection"}
{"time":"2026-01-08T16:11:02.799393957Z","level":"INFO","msg":"Loaded consensus term from disk","current_term":0}
{"time":"2026-01-08T16:11:02.803605144Z","level":"INFO","msg":"Setting listening URL","hostname":"multipooler-zone1-0.multipooler-zone1.default.svc.cluster.local","port":16000}
{"time":"2026-01-08T16:11:02.803640644Z","level":"INFO","msg":"Setting grpc max message size","msgSize":16777216}
{"time":"2026-01-08T16:11:02.803679477Z","level":"INFO","msg":"Building interceptors","unary":0,"stream":0}
{"time":"2026-01-08T16:11:02.806159131Z","level":"INFO","msg":"Successfully registered component with topology"}
{"time":"2026-01-08T16:11:02.806205714Z","level":"INFO","msg":"Waiting for manager to reach ready state before registering gRPC services"}
{"time":"2026-01-08T16:11:02.873534796Z","level":"INFO","msg":"Loaded multipooler record from topology","service_id":"component:MULTIPOOLER cell:\"zone1\" name:\"multipooler-zone1-0\"","database":"postgres","backup_location":"/backups/postgres/default/0-inf","pooler_type":"REPLICA"}
{"time":"2026-01-08T16:11:02.873547171Z","level":"INFO","msg":"Manager state changed","state":"ready","service_id":"component:MULTIPOOLER cell:\"zone1\" name:\"multipooler-zone1-0\""}
{"time":"2026-01-08T16:11:02.873561463Z","level":"INFO","msg":"MonitorPostgres: starting monitoring loop"}
{"time":"2026-01-08T16:11:02.873584379Z","level":"INFO","msg":"Manager is ready"}
{"time":"2026-01-08T16:11:02.873588046Z","level":"INFO","msg":"Manager reached ready state, will register gRPC services"}
{"time":"2026-01-08T16:11:02.873589046Z","level":"INFO","msg":"MultiPoolerManager started"}
{"time":"2026-01-08T16:11:02.873596546Z","level":"INFO","msg":"Registering pooler for grpc, disable it with -grpc-pooler service_map parameter"}
{"time":"2026-01-08T16:11:02.873600712Z","level":"INFO","msg":"Query service controller registered"}
{"time":"2026-01-08T16:11:02.873602546Z","level":"INFO","msg":"Registering poolermanager for grpc, disable it with -grpc-poolermanager service_map parameter"}
{"time":"2026-01-08T16:11:02.873611254Z","level":"INFO","msg":"Registering consensus for grpc, disable it with -grpc-consensus service_map parameter"}
{"time":"2026-01-08T16:11:02.873614046Z","level":"INFO","msg":"MultiPoolerManager gRPC services registered"}
{"time":"2026-01-08T16:11:02.873626462Z","level":"INFO","msg":"Listening for gRPC calls on port","grpcPort":16100}
{"time":"2026-01-08T16:11:02.874412208Z","level":"INFO","msg":"Listening on socket file for gRPC","name":"/data/multipooler.sock"}
{"time":"2026-01-08T16:11:02.874501541Z","level":"INFO","msg":"Listening for HTTP calls on port","httpPort":16000}
{"time":"2026-01-08T16:11:02.874533916Z","level":"INFO","msg":"service successfully started","port":16000}
{"time":"2026-01-08T16:11:02.951779073Z","level":"INFO","msg":"MonitorPostgres: directory not initialized and no backups available, waiting"}
{"time":"2026-01-08T16:11:05.042148799Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"0ffb941c4a45e2562eadf5bf1f487f8c","span_id":"ec7b61fecd4cc1c5"}
{"time":"2026-01-08T16:11:05.549035402Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"c6d96038db75c347ecde6a4cded01694","span_id":"609a612e7d70d856"}
{"time":"2026-01-08T16:11:05.550600102Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"0c705a4619bf348754097e099d5858e9","span_id":"c8b74011b66870ca"}
{"time":"2026-01-08T16:11:05.570862335Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"0c705a4619bf348754097e099d5858e9","span_id":"269091be5be16289"}
{"time":"2026-01-08T16:11:06.040625831Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"62594ebd0f292afaf8a010ea276db2ef","span_id":"e57be95b562b6344"}
{"time":"2026-01-08T16:11:06.045032726Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"62594ebd0f292afaf8a010ea276db2ef","span_id":"890533cee3308acc"}
{"time":"2026-01-08T16:11:06.540682843Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"1c2182fdca056d1b6fbf4c5f46e96c99","span_id":"f3d46b82d6aa29d1"}
{"time":"2026-01-08T16:11:06.541932087Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"6f22a91c08e3b645c00670d0e87288fb","span_id":"cdefe99d37c0994f"}
{"time":"2026-01-08T16:11:06.560233496Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"6f22a91c08e3b645c00670d0e87288fb","span_id":"20697cec1c0776a3"}
{"time":"2026-01-08T16:11:07.043203968Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"fd5302ea28aef72df5a2206e25f8dff7","span_id":"6ee9bf0b07b66c95"}
{"time":"2026-01-08T16:11:07.051910175Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"fd5302ea28aef72df5a2206e25f8dff7","span_id":"2a55db2004952cef"}
{"time":"2026-01-08T16:11:07.545358345Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"367a5f29dd3234bf6bb84359371299b6","span_id":"ca203601a9202c4e"}
{"time":"2026-01-08T16:11:07.549660365Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"eadcbc454671c1dbb5e7768c63419a58","span_id":"6db903f5fe51a9b8"}
{"time":"2026-01-08T16:11:07.560329562Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"eadcbc454671c1dbb5e7768c63419a58","span_id":"cba841885909ebde"}
{"time":"2026-01-08T16:11:08.043615491Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"7a135d9e32d14f33c42401b1af123ec8","span_id":"52ad5bea1f8cbbe1"}
{"time":"2026-01-08T16:11:08.047581555Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"7a135d9e32d14f33c42401b1af123ec8","span_id":"9005641c4ff1b79b"}
{"time":"2026-01-08T16:11:08.544673915Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"683f096aa2436159485a355bbf22785d","span_id":"fc20a5e861cdb1ad"}
{"time":"2026-01-08T16:11:08.555438986Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"683f096aa2436159485a355bbf22785d","span_id":"82bdc4c622689fd6"}
{"time":"2026-01-08T16:11:09.044519386Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"a7a2edafd556ced6"}
{"time":"2026-01-08T16:11:09.064877327Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"7dbf69a6dcdb939d"}
{"time":"2026-01-08T16:11:09.068985848Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"eb40b66b49f90c82"}
{"time":"2026-01-08T16:11:09.071867084Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"a9e75e19716339e9"}
{"time":"2026-01-08T16:11:09.073463326Z","level":"INFO","msg":"InitializeEmptyPrimary called","shard":"0-inf","term":1,"trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.073536409Z","level":"INFO","msg":"Initializing data directory","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.645151315Z","level":"INFO","msg":"Configuring archive_mode for pgbackrest","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.645263814Z","level":"INFO","msg":"Configured archive_mode in postgresql.auto.conf","config_path":"/data/pgbackrest/pgbackrest.conf","stanza":"multigres","repo_path":"/backups/postgres/default/0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.645568646Z","level":"INFO","msg":"Starting PostgreSQL","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.682432129Z","level":"INFO","msg":"Creating multigres sidecar schema","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.691780791Z","level":"INFO","msg":"Creating multischema global tables for default tablegroup","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.696647642Z","level":"INFO","msg":"Successfully created multigres sidecar schema","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.696658684Z","level":"INFO","msg":"Initializing multischema data","tablegroup":"default","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.696660725Z","level":"INFO","msg":"Inserting tablegroup","name":"default","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.697143681Z","level":"INFO","msg":"Inserting shard","tablegroup":"default","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.697856761Z","level":"INFO","msg":"Successfully initialized multischema data","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.698214509Z","level":"INFO","msg":"Initializing pgbackrest stanza","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.709754452Z","level":"INFO","msg":"pgbackrest stanza initialized successfully","stanza":"multigres","config":"/data/pgbackrest/pgbackrest.conf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.709790702Z","level":"INFO","msg":"changeTypeLocked called","pooler_type":"PRIMARY","service_id":"component:MULTIPOOLER cell:\"zone1\" name:\"multipooler-zone1-0\"","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.711151028Z","level":"INFO","msg":"Starting heartbeat writer for new primary","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.711167153Z","level":"INFO","msg":"Heartbeat Writer: opening"}
{"time":"2026-01-08T16:11:09.711179361Z","level":"INFO","msg":"Pooler type updated successfully","new_type":"PRIMARY","service_id":"component:MULTIPOOLER cell:\"zone1\" name:\"multipooler-zone1-0\"","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:09.71118382Z","level":"INFO","msg":"Creating initial backup for standby initialization","shard":"0-inf","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.059874276Z","level":"INFO","msg":"Initial backup created","backup_id":"20260108-161109F","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.059900401Z","level":"INFO","msg":"createDurabilityPolicyLocked called","policy_name":"ANY_2","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.059927984Z","level":"INFO","msg":"Inserting durability policy","policy_name":"ANY_2","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.073194627Z","level":"INFO","msg":"Successfully inserted durability policy","policy_name":"ANY_2","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.073219002Z","level":"INFO","msg":"Created durability policy","policy_name":"ANY_2","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.073388042Z","level":"INFO","msg":"Inserting leadership history","term":1,"leader":"zone1_multipooler-zone1-0","coordinator":"zone1_wpq2n5k5","reason":"ShardNeedsBootstrap","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.076011988Z","level":"INFO","msg":"Successfully inserted leadership history","term":1,"trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.076256861Z","level":"INFO","msg":"Successfully initialized pooler as empty primary","shard":"0-inf","term":1,"trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"dc9370d2e01f6103"}
{"time":"2026-01-08T16:11:11.077124857Z","level":"INFO","msg":"Setting synchronous_commit","value":"remote_write","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"291522874ac401a2"}
{"time":"2026-01-08T16:11:11.080944463Z","level":"INFO","msg":"Setting synchronous_standby_names","value":"ANY 1 (\"zone1_multipooler-zone1-1\")","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"291522874ac401a2"}
{"time":"2026-01-08T16:11:11.084639028Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"291522874ac401a2"}
{"time":"2026-01-08T16:11:11.085036484Z","level":"INFO","msg":"ConfigureSynchronousReplication completed successfully","synchronous_commit":2,"synchronous_method":2,"num_sync":1,"standby_ids":[{"component":1,"cell":"zone1","name":"multipooler-zone1-1"}],"reload_config":true,"trace_id":"224ef7d487165637bd97c15c266ecdad","span_id":"291522874ac401a2"}
{"time":"2026-01-08T16:11:11.900139596Z","level":"INFO","msg":"MonitorPostgres: PostgreSQL is running"}
{"time":"2026-01-08T16:11:13.712186956Z","level":"ERROR","msg":"Failed to write heartbeat","error":"failed to write heartbeat: context deadline exceeded"}
{"time":"2026-01-08T16:11:14.19297173Z","level":"INFO","msg":"UpdateSynchronousStandbyList completed successfully","operation":1,"old_value":"ANY 1 (\"zone1_multipooler-zone1-1\")","new_value":[{"cell":"zone1","name":"multipooler-zone1-1"}],"reload_config":true,"consensus_term":1,"force":false,"trace_id":"628089c3888fbb19327a8f8aab8b46f7","span_id":"3473912f33d0a43f"}
{"time":"2026-01-08T16:11:15.228842827Z","level":"INFO","msg":"UpdateSynchronousStandbyList completed successfully","operation":1,"old_value":"ANY 1 (\"zone1_multipooler-zone1-1\")","new_value":[{"cell":"zone1","name":"multipooler-zone1-1"},{"component":1,"cell":"zone1","name":"multipooler-zone1-2"}],"reload_config":true,"consensus_term":1,"force":false,"trace_id":"2b4717dba26a9b65392422d3bb71e064","span_id":"8065ff2ff349595b"}
{"time":"2026-01-08T16:11:15.22894241Z","level":"INFO","msg":"Setting synchronous_standby_names","value":"ANY 1 (\"zone1_multipooler-zone1-1\", \"zone1_multipooler-zone1-2\")","trace_id":"2b4717dba26a9b65392422d3bb71e064","span_id":"8065ff2ff349595b"}
{"time":"2026-01-08T16:11:15.232543433Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"2b4717dba26a9b65392422d3bb71e064","span_id":"8065ff2ff349595b"}
{"time":"2026-01-08T16:11:15.232957931Z","level":"INFO","msg":"UpdateSynchronousStandbyList completed successfully","operation":1,"old_value":"ANY 1 (\"zone1_multipooler-zone1-1\")","new_value":"ANY 1 (\"zone1_multipooler-zone1-1\", \"zone1_multipooler-zone1-2\")","reload_config":true,"consensus_term":1,"force":false,"trace_id":"2b4717dba26a9b65392422d3bb71e064","span_id":"8065ff2ff349595b"}
{"time":"2026-01-08T16:40:28.757533372Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: startup failed: FATAL: the database system is shutting down (SQLSTATE 57P03)","trace_id":"ab4a1462269fc4620412143160d5cdf4","span_id":"1d8b01df0eefd1a9"}
{"time":"2026-01-08T16:40:29.040446442Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"11cc02db19aaa1e6e3bb45df154ea640","span_id":"e20bb2fdf40b9f5b"}
{"time":"2026-01-08T16:40:29.09258931Z","level":"ERROR","msg":"Failed to write heartbeat","error":"failed to write heartbeat: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory"}
{"time":"2026-01-08T16:40:29.207285012Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"d68f05b16488ccffda8536dbd94f3b7e","span_id":"f7105da21c14edb1"}
{"time":"2026-01-08T16:40:29.544567169Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"62ee3975f96f43f07f10f8191cd74110","span_id":"315830206d6709d5"}
{"time":"2026-01-08T16:40:29.713360039Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"9756353d0a14611e193eb7b5d82cedc9","span_id":"81215fe6c465d1ce"}
{"time":"2026-01-08T16:40:29.97389938Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"62ee3975f96f43f07f10f8191cd74110","span_id":"868bb2b674f9dfbb"}
{"time":"2026-01-08T16:40:30.064849554Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"db8c791d410537379e1a20ca040b3281","span_id":"78df2e629cd8b4f3"}
{"time":"2026-01-08T16:40:30.09367873Z","level":"ERROR","msg":"Failed to write heartbeat","error":"failed to write heartbeat: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory"}
{"time":"2026-01-08T16:40:30.209281478Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"7dc6ca96d80b80a405ea20d44a092d8b","span_id":"2544c67349609d47"}
{"time":"2026-01-08T16:40:30.540604024Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"cd459b69dff305477b3abfb7684f9418","span_id":"f63f97e6d8c6bec7"}
{"time":"2026-01-08T16:40:30.577078652Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"cd459b69dff305477b3abfb7684f9418","span_id":"9afdf5c471ed9b40"}
{"time":"2026-01-08T16:40:30.705178166Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"bd089de009ffa10cc40a903cf6ff1f07","span_id":"2b3b1db4e58c2b85"}
{"time":"2026-01-08T16:40:31.04072319Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"b74aeb5cc14c0ff361c1dec4930c7a2c","span_id":"dc0b89580dada15e"}
{"time":"2026-01-08T16:40:31.094722525Z","level":"ERROR","msg":"Failed to write heartbeat","error":"failed to write heartbeat: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory"}
{"time":"2026-01-08T16:40:31.206192295Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"198e9c19e4d61d25a666035c8cf24979","span_id":"92feb8e3fcfcd6f8"}
{"time":"2026-01-08T16:40:31.569549115Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"c3de93db2bb9af19398fb64724e04cca","span_id":"79db1db78d2a55c4"}
{"time":"2026-01-08T16:40:31.570344911Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"c3de93db2bb9af19398fb64724e04cca","span_id":"61c6c9d6244e5ba4"}
{"time":"2026-01-08T16:40:31.705521249Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: failed to create regular connection: failed to connect to Unix socket /data/pg_sockets/.s.PGSQL.5432: dial unix /data/pg_sockets/.s.PGSQL.5432: connect: no such file or directory","trace_id":"8c7fdb561468de73223f832c1136a2ed","span_id":"824a6c25a6face85"}
{"time":"2026-01-08T16:40:31.79558642Z","level":"INFO","msg":"MonitorPostgres: PostgreSQL initialized but not running, starting PostgreSQL"}
{"time":"2026-01-08T16:40:32.145065925Z","level":"INFO","msg":"Clearing synchronous replication for demotion (early)","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.147412353Z","level":"INFO","msg":"Successfully cleared synchronous replication for demotion","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.147575812Z","level":"INFO","msg":"Checked demotion state","is_serving_read_only":false,"is_replica_in_topology":false,"is_read_only":false,"is_primary":true,"pooler_type":1,"serving_status":1,"trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.147621062Z","level":"INFO","msg":"Transitioning to SERVING_RDONLY","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.150839035Z","level":"INFO","msg":"Stopping heartbeat writer","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.150870285Z","level":"INFO","msg":"Heartbeat Writer: closing"}
{"time":"2026-01-08T16:40:32.150874327Z","level":"INFO","msg":"Heartbeat Writer: closed"}
{"time":"2026-01-08T16:40:32.150876369Z","level":"INFO","msg":"Heartbeat Reader: opening"}
{"time":"2026-01-08T16:40:32.150882744Z","level":"INFO","msg":"Transitioned to SERVING_RDONLY successfully","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.150899786Z","level":"INFO","msg":"Monitoring for write activity during drain","duration":5000000000,"trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.150910869Z","level":"INFO","msg":"Starting checkpoint","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.155577682Z","level":"INFO","msg":"Checkpoint completed","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.155607141Z","level":"INFO","msg":"Checkpoint completed during drain","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.352215891Z","level":"INFO","msg":"No write activity detected for 2 consecutive checks, exiting drain early","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.352272642Z","level":"INFO","msg":"Checkpoint still running, continuing with demotion","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.352519851Z","level":"INFO","msg":"No active write connections to terminate","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.352606643Z","level":"INFO","msg":"Restarting PostgreSQL as standby","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:32.352618435Z","level":"INFO","msg":"Heartbeat Reader: closed"}
{"time":"2026-01-08T16:40:32.352641643Z","level":"INFO","msg":"reserved pool closed","user":"postgres"}
{"time":"2026-01-08T16:40:32.352658643Z","level":"ERROR","msg":"failed to close pool","pool":"regular:postgres","error":"timed out while waiting for connections to be returned to the pool"}
{"time":"2026-01-08T16:40:32.352664643Z","level":"INFO","msg":"user pool closed","user":"postgres"}
{"time":"2026-01-08T16:40:32.352669268Z","level":"INFO","msg":"connection pool manager closed"}
{"time":"2026-01-08T16:40:32.352671977Z","level":"INFO","msg":"MultiPoolerManager: closed"}
{"time":"2026-01-08T16:40:32.352770852Z","level":"ERROR","msg":"MonitorPostgres: failed to start PostgreSQL, will retry","error":"failed to start PostgreSQL: rpc error: code = Canceled desc = context canceled"}
{"time":"2026-01-08T16:40:32.352862144Z","level":"INFO","msg":"MonitorPostgres: context cancelled, exiting monitoring loop","attempts":716}
{"time":"2026-01-08T16:40:32.750591833Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"446fda427cf6af3dec53f073f1ddc0b3","span_id":"98c75a29fc6b40fc"}
{"time":"2026-01-08T16:40:33.078017027Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"2f8b91b9b6d0d64a79f02839d6146620","span_id":"40541be3ccc0060b"}
{"time":"2026-01-08T16:40:33.246304854Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"6f8f1772345f14fb01a022ce0ba4452c","span_id":"7e17a893ae7fc5d3"}
{"time":"2026-01-08T16:40:33.523033686Z","level":"INFO","msg":"PostgreSQL restarted as standby","pid":12262,"message":"PostgreSQL server restarted as standby successfully","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.523054853Z","level":"INFO","msg":"MultiPoolerManager: opening"}
{"time":"2026-01-08T16:40:33.523285354Z","level":"INFO","msg":"connection pool manager opened","admin_user":"postgres","admin_capacity":5,"user_regular_capacity":10,"user_reserved_capacity":5,"max_users":0,"settings_cache_size":1024}
{"time":"2026-01-08T16:40:33.523312938Z","level":"INFO","msg":"Connection pool manager opened"}
{"time":"2026-01-08T16:40:33.523314813Z","level":"INFO","msg":"MultiPoolerManager: Starting database heartbeat"}
{"time":"2026-01-08T16:40:33.523435647Z","level":"INFO","msg":"user pool created","user":"postgres","regular_capacity":10,"reserved_capacity":5}
{"time":"2026-01-08T16:40:33.523453147Z","level":"INFO","msg":"created user pool","user":"postgres","total_users":1}
{"time":"2026-01-08T16:40:33.526153118Z","level":"INFO","msg":"Not starting heartbeat writer - connected to standby database"}
{"time":"2026-01-08T16:40:33.526204368Z","level":"INFO","msg":"Heartbeat Reader: opening"}
{"time":"2026-01-08T16:40:33.526221118Z","level":"INFO","msg":"MultiPoolerManager opened database connection"}
{"time":"2026-01-08T16:40:33.526251368Z","level":"INFO","msg":"MonitorPostgres: starting monitoring loop"}
{"time":"2026-01-08T16:40:33.526304535Z","level":"INFO","msg":"PostgreSQL is now running as a standby","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.526315452Z","level":"INFO","msg":"Clearing synchronous standby list","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.5331634Z","level":"INFO","msg":"Successfully cleared synchronous standby list","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.533289776Z","level":"INFO","msg":"Updating pooler type in topology to REPLICA","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.543291531Z","level":"INFO","msg":"Topology updated to REPLICA successfully","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.543313323Z","level":"INFO","msg":"Demote completed successfully","final_lsn":"0/500A4A8","consensus_term":2,"connections_terminated":0,"trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.543565991Z","level":"INFO","msg":"Updating to newer term after successful operation","request_term":2,"old_term":1,"service_id":"component:MULTIPOOLER cell:\"zone1\" name:\"multipooler-zone1-0\"","trace_id":"842a0daee1f06c778eb78104c8118cf8","span_id":"47fe6b370db38260"}
{"time":"2026-01-08T16:40:33.567522561Z","level":"INFO","msg":"MonitorPostgres: PostgreSQL is running"}
{"time":"2026-01-08T16:40:34.139382437Z","level":"INFO","msg":"Pausing WAL replay on standby","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:34.139563646Z","level":"INFO","msg":"Setting primary_conninfo","conninfo":"host=multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local port=5432 user=postgres application_name=zone1_multipooler-zone1-0","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:34.141343654Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:34.141451696Z","level":"INFO","msg":"Starting replication after setting primary_conninfo","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:34.141454655Z","level":"INFO","msg":"Resuming WAL replay","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:34.141512238Z","level":"INFO","msg":"SetPrimaryConnInfo completed successfully","host":"multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local","port":5432,"stop_replication_before":true,"start_replication_after":true,"trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"ca9759e207a45cb1"}
{"time":"2026-01-08T16:40:36.64354066Z","level":"INFO","msg":"RewindToSource RPC called","source":"multipooler-zone1-1","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:36.643554285Z","level":"INFO","msg":"Closing manager and stopping PostgreSQL for pg_rewind","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:36.64356091Z","level":"INFO","msg":"Heartbeat Reader: closed"}
{"time":"2026-01-08T16:40:36.643569869Z","level":"INFO","msg":"reserved pool closed","user":"postgres"}
{"time":"2026-01-08T16:40:36.64357341Z","level":"ERROR","msg":"failed to close pool","pool":"regular:postgres","error":"timed out while waiting for connections to be returned to the pool"}
{"time":"2026-01-08T16:40:36.643576827Z","level":"INFO","msg":"user pool closed","user":"postgres"}
{"time":"2026-01-08T16:40:36.643580702Z","level":"INFO","msg":"connection pool manager closed"}
{"time":"2026-01-08T16:40:36.643582535Z","level":"INFO","msg":"MultiPoolerManager: closed"}
{"time":"2026-01-08T16:40:36.643624244Z","level":"INFO","msg":"MonitorPostgres: context cancelled, exiting monitoring loop","attempts":3}
{"time":"2026-01-08T16:40:36.706851164Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"7bd959c746fe0d82bd4fc23df48187be","span_id":"41e41511bd413e77"}
{"time":"2026-01-08T16:40:36.758622947Z","level":"INFO","msg":"Running pg_rewind dry-run to check for divergence","source_host":"multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local","source_port":5432,"trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:37.167704189Z","level":"INFO","msg":"Servers diverged, running actual pg_rewind","source_host":"multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local","source_port":5432,"trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:37.206794538Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"abb4fd9430fc0d5abf6c67e20cd64857","span_id":"2ecc5564004ab106"}
{"time":"2026-01-08T16:40:37.481601653Z","level":"INFO","msg":"pg_rewind completed successfully","message":"Rewind completed successfully","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:37.481723987Z","level":"INFO","msg":"Starting PostgreSQL as standby after pg_rewind","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:37.572166242Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"0d010fa0028db5ad0b29b28d6db24300","span_id":"8ed09f40e8188ab5"}
{"time":"2026-01-08T16:40:37.741696616Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"5413a3964e7eb50d548e3fdb65fccddc","span_id":"6170f40a174b1316"}
{"time":"2026-01-08T16:40:38.085737346Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"240e21d6c15833d2a6c4e5cc74204cfd","span_id":"cae3a26dde79ba8e"}
{"time":"2026-01-08T16:40:38.246068011Z","level":"WARN","msg":"Failed to check PostgreSQL role, returning partial status","error":"failed to query pg_is_in_recovery: manager is closed","trace_id":"7e2a72d41ac81349424aca2ff72fa74c","span_id":"f49d86968dc80866"}
{"time":"2026-01-08T16:40:38.526166276Z","level":"INFO","msg":"MultiPoolerManager: opening"}
{"time":"2026-01-08T16:40:38.526630153Z","level":"INFO","msg":"connection pool manager opened","admin_user":"postgres","admin_capacity":5,"user_regular_capacity":10,"user_reserved_capacity":5,"max_users":0,"settings_cache_size":1024}
{"time":"2026-01-08T16:40:38.526677278Z","level":"INFO","msg":"Connection pool manager opened"}
{"time":"2026-01-08T16:40:38.526684278Z","level":"INFO","msg":"MultiPoolerManager: Starting database heartbeat"}
{"time":"2026-01-08T16:40:38.526816154Z","level":"INFO","msg":"user pool created","user":"postgres","regular_capacity":10,"reserved_capacity":5}
{"time":"2026-01-08T16:40:38.526848863Z","level":"INFO","msg":"created user pool","user":"postgres","total_users":1}
{"time":"2026-01-08T16:40:38.528317119Z","level":"INFO","msg":"Not starting heartbeat writer - connected to standby database"}
{"time":"2026-01-08T16:40:38.528330869Z","level":"INFO","msg":"Heartbeat Reader: opening"}
{"time":"2026-01-08T16:40:38.528340453Z","level":"INFO","msg":"MultiPoolerManager opened database connection"}
{"time":"2026-01-08T16:40:38.528367828Z","level":"INFO","msg":"MonitorPostgres: starting monitoring loop"}
{"time":"2026-01-08T16:40:38.52852412Z","level":"INFO","msg":"RewindToSource completed successfully","rewind_performed":true,"trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"06da459c87e40939"}
{"time":"2026-01-08T16:40:38.529171415Z","level":"INFO","msg":"Pausing WAL replay on standby","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.529362749Z","level":"INFO","msg":"Setting primary_conninfo","conninfo":"host=multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local port=5432 user=postgres application_name=zone1_multipooler-zone1-0","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.531724052Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.532158179Z","level":"INFO","msg":"Starting replication after setting primary_conninfo","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.532216929Z","level":"INFO","msg":"Resuming WAL replay","trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.532759432Z","level":"INFO","msg":"SetPrimaryConnInfo completed successfully","host":"multipooler-zone1-1.multipooler-zone1.default.svc.cluster.local","port":5432,"stop_replication_before":true,"start_replication_after":true,"trace_id":"1a275b002d36f3e083540154cf3538ce","span_id":"588d310d3b35eae2"}
{"time":"2026-01-08T16:40:38.565352042Z","level":"INFO","msg":"MonitorPostgres: PostgreSQL is running"}
{"time":"2026-01-08T16:41:42.595908288Z","level":"INFO","msg":"Standby has no WAL receiver, proceeding with term acceptance","term":3,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"a898d21b1ac3eedd"}
{"time":"2026-01-08T16:41:42.595974871Z","level":"INFO","msg":"Standby accepting new term, resetting primary_conninfo","term":3,"current_term":2,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"a898d21b1ac3eedd"}
{"time":"2026-01-08T16:41:42.595981038Z","level":"INFO","msg":"Stopping WAL receiver","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"a898d21b1ac3eedd"}
{"time":"2026-01-08T16:41:42.59598558Z","level":"INFO","msg":"Clearing primary_conninfo","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"a898d21b1ac3eedd"}
{"time":"2026-01-08T16:41:42.598648446Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"a898d21b1ac3eedd"}
{"time":"2026-01-08T16:41:42.705265368Z","level":"INFO","msg":"Standby reached target LSN","target_lsn":"0/60000A0","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"e41f4a64600b5e47"}
{"time":"2026-01-08T16:41:42.710480019Z","level":"INFO","msg":"Checked promotion state","is_primary_in_postgres":false,"is_primary_in_topology":false,"sync_replication_matches":false,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.710541769Z","level":"WARN","msg":"WAL replay is not paused before promotion - coordinator may have skipped Discovery stage","current_lsn":"0/60000A0","expected_lsn":"0/60000A0","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.710548977Z","level":"INFO","msg":"LSN validation passed","lsn":"0/60000A0","wal_replay_paused":false,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.710551144Z","level":"INFO","msg":"PostgreSQL promotion needed","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.710552352Z","level":"INFO","msg":"Calling pg_promote() to promote standby to primary","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.811930457Z","level":"INFO","msg":"Waiting for promotion to complete","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.913856893Z","level":"INFO","msg":"Promotion completed successfully - node is now primary","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.913877559Z","level":"INFO","msg":"Topology update needed","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.913879101Z","level":"INFO","msg":"Updating pooler type in topology to PRIMARY","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.922129659Z","level":"INFO","msg":"Updating heartbeat tracker to primary mode","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.922370492Z","level":"INFO","msg":"Heartbeat Reader: closed"}
{"time":"2026-01-08T16:41:42.922395367Z","level":"INFO","msg":"Heartbeat Writer: opening"}
{"time":"2026-01-08T16:41:42.92242695Z","level":"INFO","msg":"Sync replication configuration needed","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.922449658Z","level":"INFO","msg":"Configuring synchronous replication for new cohort","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.922734657Z","level":"INFO","msg":"Setting synchronous_commit","value":"remote_write","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.924524818Z","level":"INFO","msg":"Setting synchronous_standby_names","value":"ANY 1 (\"zone1_multipooler-zone1-2\")","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.926762395Z","level":"INFO","msg":"Reloading PostgreSQL configuration","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.927205227Z","level":"INFO","msg":"ConfigureSynchronousReplication completed successfully","synchronous_commit":2,"synchronous_method":2,"num_sync":1,"standby_ids":[{"component":1,"cell":"zone1","name":"multipooler-zone1-2"}],"reload_config":true,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.927450268Z","level":"INFO","msg":"Inserting leadership history","term":3,"leader":"zone1_multipooler-zone1-0","coordinator":"zone1_wpq2n5k5","reason":"PrimaryIsDead","trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.93142088Z","level":"INFO","msg":"Successfully inserted leadership history","term":3,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
{"time":"2026-01-08T16:41:42.931440297Z","level":"INFO","msg":"Promote completed successfully","final_lsn":"0/60000D8","consensus_term":3,"was_already_primary":false,"trace_id":"63f620aa06f2d4124ba68c64626181ac","span_id":"af6b607c8e43772d"}
